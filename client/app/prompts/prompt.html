<div class="app-prompt" ng-app="promptController">
  <a ui-sref="prompts" class="app-photo-back">Back</a>
  <div class="app-title">Prompt</div>
  <div class="app-prompt-challenge">
    {{ prompt.title }}
  </div>
  <div ng-if="userId != prompt.user.id">
    <form>
      <input type="submit" ng-file-select="onFileSelect($files)" class="app-prompt-upload" value="Upload"/>
    </form>
  </div>
  <div ng-if="userId == prompt.user.id">
    <p>You're the author. You can't participate!</p>
  </div>
  <div class="app-prompt-box">Created by <span>{{ prompt.user.email }}</span></div>
  <div class="app-prompt-box">
    <span am-time-ago="prompt.votingEndTime"></span>
  </div>
  <!-- if there is a prompt.winner, display it here (photo and photo.userID) -->
  <div class="app-prompt-box">Winner: <span>{{ prompt.winner || 'No Winner'}}</span></div>
  <div class="app-prompt-box red">Photos!</div>
  <div class="app-prompt-gallery" ng-repeat="photo in prompt.photos">
    <a ui-sref="photo({ id: photo.id })"><img src="media/{{ photo.filename }}"/></a>
  </div>
</div>